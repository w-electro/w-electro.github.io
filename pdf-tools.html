<!DOCTYPE HTML>
<html lang="ar" dir="rtl">
	<head>
		<!-- Google Tag Manager -->
		<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
		new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
		j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
		'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
		})(window,document,'script','dataLayer','GTM-NH542DNT');</script>
		<!-- End Google Tag Manager -->

		<!-- SEO Optimized Title -->
		<title>أدوات PDF | الأدوات | W للخدمات الإلكترونية</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="Content-Language" content="ar" />

		<!-- SEO Meta Description -->
		<meta name="description" content="أدوات PDF مجانية - دمج وتقسيم ملفات PDF بسهولة">
		<meta name="robots" content="index, follow">
		<meta name="author" content="W للخدمات الإلكترونية">

		<!-- Favicon and Meta Images -->
		<link rel="icon" href="wD.png" type="image/png">
		<link rel="shortcut icon" href="wD.png" type="image/png">
		<link rel="apple-touch-icon" href="wD.png">
		<link rel="canonical" href="https://www.w-electro.com/pdf-tools">

		<!-- Meta tags for social media sharing -->
		<meta property="og:title" content="أدوات PDF | الأدوات">
		<meta property="og:description" content="أدوات PDF مجانية - دمج وتقسيم ملفات PDF">
		<meta property="og:image" content="https://www.w-electro.com/wD.png">
		<meta property="og:url" content="https://www.w-electro.com/pdf-tools">
		<meta property="og:type" content="website">
		<meta property="og:site_name" content="W للخدمات الإلكترونية">
		<meta name="twitter:card" content="summary_large_image">

		<!-- Preload critical resources -->
		<link rel="preload" href="wD.png" as="image" type="image/png">
		<link rel="preload" href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800;900&display=swap" as="style">

		<!-- Load Google Fonts -->
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800;900&display=swap">

		<!-- Load Font Awesome -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

		<!-- Tailwind CSS -->
		<script src="https://cdn.tailwindcss.com"></script>

		<!-- Alpine.js -->
		<script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

		<!-- PDF.js for rendering previews -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
		<script>
			pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
		</script>

		<!-- PDF-lib -->
		<script src="https://cdn.jsdelivr.net/npm/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>

		<!-- Critical inline styles -->
		<style>
			:root {
				--primary-color: #0891b2;
				--secondary-color: #ff6e42;
				--success-color: #10b981;
				--warning-color: #f59e0b;
				--error-color: #ef4444;
				--dark-color: #1f2937;
				--light-color: #f8fafc;
			}

			/* Hide content until loaded */
			.main-content {
				opacity: 0;
				visibility: hidden;
				transition: opacity 0.5s ease-in-out, visibility 0.5s ease-in-out;
			}

			.main-content.loaded {
				opacity: 1;
				visibility: visible;
			}

			/* Loading Screen */
			.loading-screen {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background: linear-gradient(135deg, #0891b2 0%, #06b6d4 50%, #ff6e42 100%);
				display: flex;
				flex-direction: column;
				justify-content: center;
				align-items: center;
				z-index: 9999;
				transition: opacity 0.5s ease-out, visibility 0.5s ease-out;
			}

			.loading-screen.hidden {
				opacity: 0;
				visibility: hidden;
			}

			.loading-logo {
				width: 120px;
				height: 120px;
				background: white;
				border-radius: 50%;
				display: flex;
				align-items: center;
				justify-content: center;
				box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
				margin-bottom: 2rem;
				animation: pulse-scale 2s ease-in-out infinite;
			}

			.loading-logo img {
				width: 80px;
				height: 80px;
				object-fit: contain;
				border-radius: 50%;
			}

			.loading-text {
				color: white;
				font-size: 1.5rem;
				font-weight: 700;
				margin-bottom: 2rem;
				text-align: center;
				animation: fade-in-out 2s ease-in-out infinite;
			}

			.loading-spinner {
				width: 50px;
				height: 50px;
				border: 4px solid rgba(255, 255, 255, 0.3);
				border-top: 4px solid white;
				border-radius: 50%;
				animation: spin 1s linear infinite;
			}

			@keyframes pulse-scale {
				0%, 100% { transform: scale(1); }
				50% { transform: scale(1.05); }
			}

			@keyframes fade-in-out {
				0%, 100% { opacity: 0.7; }
				50% { opacity: 1; }
			}

			@keyframes spin {
				0% { transform: rotate(0deg); }
				100% { transform: rotate(360deg); }
			}

			/* Font loading */
			body {
				font-family: 'Cairo', system-ui, -apple-system, sans-serif;
				font-display: swap;
			}

			/* Enhanced Button Styles */
			.btn-primary, .btn-outline-orange {
				display: inline-flex !important;
				align-items: center;
				justify-content: center;
				padding: 12px 24px !important;
				background: transparent !important;
				color: var(--secondary-color) !important;
				border: 2px solid var(--secondary-color) !important;
				border-radius: 50px !important;
				font-weight: 600 !important;
				font-size: 0.95rem !important;
				transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
				cursor: pointer !important;
				text-decoration: none !important;
				text-align: center !important;
				position: relative;
				overflow: hidden;
			}

			.btn-primary::before, .btn-outline-orange::before {
				content: '';
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background: var(--secondary-color);
				transform: translateX(-100%);
				transition: transform 0.3s ease;
				z-index: -1;
			}

			.btn-primary:hover, .btn-outline-orange:hover {
				color: white !important;
				border-color: var(--secondary-color) !important;
				transform: translateY(-2px) !important;
				box-shadow: 0 10px 20px rgba(255, 110, 66, 0.3) !important;
			}

			.btn-primary:hover::before, .btn-outline-orange:hover::before {
				transform: translateX(0);
			}

			/* Tab Navigation */
			.tab-button {
				padding: 12px 24px;
				border-radius: 12px;
				font-weight: 600;
				transition: all 0.3s ease;
				border: 2px solid transparent;
			}

			.tab-button:hover {
				background: rgba(8, 145, 178, 0.1);
			}

			.tab-button.active {
				background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
				color: white;
				box-shadow: 0 4px 15px rgba(8, 145, 178, 0.3);
			}

			/* File Drop Area */
			.file-drop-area {
				border: 2px dashed #e2e8f0;
				border-radius: 16px;
				padding: 3rem;
				text-align: center;
				transition: all 0.3s ease;
				background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
			}

			.file-drop-area:hover {
				border-color: var(--primary-color);
				background: linear-gradient(135deg, rgba(8, 145, 178, 0.05) 0%, rgba(8, 145, 178, 0.1) 100%);
				transform: translateY(-2px);
				box-shadow: 0 8px 25px rgba(8, 145, 178, 0.1);
			}

			/* Floating Buttons */
			.floating-whatsapp, #scrollToTop {
				background: white !important;
				color: var(--secondary-color) !important;
				border: 2px solid var(--secondary-color) !important;
				box-shadow: 0 8px 25px rgba(255, 110, 66, 0.3) !important;
				transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
			}

			.floating-whatsapp:hover, #scrollToTop:hover {
				background: var(--secondary-color) !important;
				color: white !important;
				transform: translateY(-3px) scale(1.05) !important;
				box-shadow: 0 12px 35px rgba(255, 110, 66, 0.4) !important;
			}

			/* Breadcrumbs */
			.breadcrumbs {
				padding: 1rem 0;
				margin-bottom: 1rem;
				font-size: 0.9rem;
			}

			.breadcrumbs ol {
				display: flex;
				flex-wrap: wrap;
				list-style: none;
				padding: 0;
				margin: 0;
				align-items: center;
			}

			.breadcrumbs li {
				display: inline-flex;
				align-items: center;
			}

			.breadcrumbs li:not(:last-child)::after {
				content: ">";
				margin: 0 10px;
				color: #ccc;
				font-weight: bold;
			}

			.breadcrumbs a {
				color: var(--secondary-color);
				text-decoration: none;
				font-weight: 500;
				transition: color 0.3s ease;
			}

			.breadcrumbs a:hover {
				color: var(--primary-color);
				text-decoration: underline;
			}

			/* Animation Classes */
			.animate-fadeInUp {
				animation: fadeInUp 0.8s ease-out forwards;
				opacity: 0;
			}

			@keyframes fadeInUp {
				from {
					opacity: 0;
					transform: translateY(30px);
				}
				to {
					opacity: 1;
					transform: translateY(0);
				}
			}

			.delay-100 { animation-delay: 0.1s; }
			.delay-200 { animation-delay: 0.2s; }
			.delay-300 { animation-delay: 0.3s; }

			/* Page Preview Cards */
			.page-preview-card {
				transition: all 0.3s ease;
			}

			.page-preview-card:has(.page-checkbox:checked) {
				border-color: #0891b2;
				background: linear-gradient(135deg, rgba(8, 145, 178, 0.05) 0%, rgba(8, 145, 178, 0.1) 100%);
			}

			.page-checkbox {
				accent-color: #0891b2;
			}

			/* Responsive */
			@media (max-width: 768px) {
				.file-drop-area {
					padding: 2rem 1rem;
				}

				.loading-logo {
					width: 100px;
					height: 100px;
				}

				.loading-logo img {
					width: 70px;
					height: 70px;
				}

				.loading-text {
					font-size: 1.2rem;
				}
			}
		</style>
	</head>
	<body>
		<!-- Google Tag Manager (noscript) -->
		<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NH542DNT"
		height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
		<!-- End Google Tag Manager (noscript) -->

		<!-- Loading Screen -->
		<div id="loadingScreen" class="loading-screen">
			<div class="loading-logo">
				<img src="wD.png" alt="W للخدمات الإلكترونية" />
			</div>
			<div class="loading-text">W للخدمات الإلكترونية</div>
			<div class="loading-spinner"></div>
		</div>

		<!-- Main Content -->
		<div id="mainContent" class="main-content">
			<!-- Header/Navigation -->
			<header class="bg-white shadow-lg sticky top-0 z-50 backdrop-blur-sm bg-white/95" x-data="{ mobileMenuOpen: false }">
				<div class="container mx-auto px-4 py-4">
					<div class="flex items-center justify-between">
						<!-- Logo -->
						<div class="flex items-center">
							<a href="/" class="text-2xl font-bold text-primary flex items-center gap-3">
								<img src="wD.png" alt="W للخدمات الإلكترونية" class="w-10 h-10 rounded-full shadow-md" />
								<span class="text-cyan-600">W</span>
								<span class="text-orange-500">للخدمات الإلكترونية</span>
							</a>
						</div>

						<!-- Desktop Navigation -->
						<nav class="hidden md:flex space-x-8 rtl:space-x-reverse items-center">
							<a href="/" class="text-gray-600 font-medium hover:text-cyan-600 transition-colors duration-200 relative group">
								الرئيسية
								<span class="absolute bottom-0 left-0 w-0 h-0.5 bg-cyan-600 transition-all duration-300 group-hover:w-full"></span>
							</a>
							<a href="general-services" class="text-gray-600 font-medium hover:text-cyan-600 transition-colors duration-200 relative group">
								خدمات عامة
								<span class="absolute bottom-0 left-0 w-0 h-0.5 bg-cyan-600 transition-all duration-300 group-hover:w-full"></span>
							</a>
							<a href="design-services" class="text-gray-600 font-medium hover:text-cyan-600 transition-colors duration-200 relative group">
								خدمات التصميم
								<span class="absolute bottom-0 left-0 w-0 h-0.5 bg-cyan-600 transition-all duration-300 group-hover:w-full"></span>
							</a>
							<a href="academic-services" class="text-gray-600 font-medium hover:text-cyan-600 transition-colors duration-200 relative group">
								خدمات طلابية
								<span class="absolute bottom-0 left-0 w-0 h-0.5 bg-cyan-600 transition-all duration-300 group-hover:w-full"></span>
							</a>
							<!-- Tools Dropdown -->
							<div x-data="{ toolsOpen: false }" @mouseenter="toolsOpen = true" @mouseleave="toolsOpen = false" class="relative">
								<a href="tools" class="text-cyan-600 font-medium hover:text-cyan-700 transition-colors duration-200 relative group flex items-center gap-1">
									الأدوات
									<svg class="w-4 h-4 transition-transform duration-200" :class="{'rotate-180': toolsOpen}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
										<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
									</svg>
									<span class="absolute bottom-0 left-0 w-full h-0.5 bg-cyan-600"></span>
								</a>

								<div x-show="toolsOpen" x-transition class="absolute left-0 mt-2 w-56 rounded-lg shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50">
									<div class="py-2">
										<a href="ocr" class="flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-cyan-50 hover:text-cyan-600 transition-colors duration-200">
											<i class="fas fa-file-text text-cyan-500"></i>
											<span>استخراج النصوص (OCR)</span>
										</a>
										<a href="qr-generator" class="flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-cyan-50 hover:text-cyan-600 transition-colors duration-200">
											<i class="fas fa-qrcode text-cyan-500"></i>
											<span>مولد رمز QR</span>
										</a>
										<a href="pdf-tools" class="flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-cyan-50 hover:text-cyan-600 transition-colors duration-200">
											<i class="fas fa-file-pdf text-cyan-500"></i>
											<span>أدوات PDF</span>
										</a>
										<div class="flex items-center gap-3 px-4 py-3 text-sm text-gray-400 cursor-not-allowed">
											<i class="fas fa-magic text-gray-300"></i>
											<span>إزالة الخلفية</span>
											<span class="mr-auto text-xs bg-gray-100 px-2 py-1 rounded">قريباً</span>
										</div>
									</div>
								</div>
							</div>
							<a href="/#about" class="text-gray-600 font-medium hover:text-cyan-600 transition-colors duration-200 relative group">
								من نحن
								<span class="absolute bottom-0 left-0 w-0 h-0.5 bg-cyan-600 transition-all duration-300 group-hover:w-full"></span>
							</a>
							<a href="/#contact" class="text-gray-600 font-medium hover:text-cyan-600 transition-colors duration-200 relative group">
								تواصل معنا
								<span class="absolute bottom-0 left-0 w-0 h-0.5 bg-cyan-600 transition-all duration-300 group-hover:w-full"></span>
							</a>
						</nav>

						<!-- Mobile menu button -->
						<div class="md:hidden">
							<button @click="mobileMenuOpen = !mobileMenuOpen" class="text-gray-500 hover:text-gray-600 focus:outline-none focus:text-gray-600 p-2 rounded-lg hover:bg-gray-100 transition-colors" aria-label="فتح القائمة">
								<svg class="h-6 w-6 fill-current" viewBox="0 0 24 24">
									<path x-show="!mobileMenuOpen" fill-rule="evenodd" clip-rule="evenodd" d="M4 6h16v2H4V6zm0 5h16v2H4v-2zm0 5h16v2H4v-2z"></path>
									<path x-show="mobileMenuOpen" fill-rule="evenodd" clip-rule="evenodd" d="M6 18L18 6M6 6l12 12"></path>
								</svg>
							</button>
						</div>
					</div>

					<!-- Mobile Navigation -->
					<div x-show="mobileMenuOpen" x-transition class="md:hidden mt-4 py-4 border-t border-gray-200 relative z-[60] max-h-[calc(100vh-200px)] overflow-y-auto">
						<nav class="flex flex-col space-y-3 pb-32">
							<a href="/" class="text-gray-600 font-medium hover:text-cyan-600 transition-colors duration-200 py-2 px-4 rounded-lg hover:bg-gray-50">الرئيسية</a>
							<a href="general-services" class="text-gray-600 font-medium hover:text-cyan-600 transition-colors duration-200 py-2 px-4 rounded-lg hover:bg-gray-50">خدمات عامة</a>
							<a href="design-services" class="text-gray-600 font-medium hover:text-cyan-600 transition-colors duration-200 py-2 px-4 rounded-lg hover:bg-gray-50">خدمات التصميم</a>
							<a href="academic-services" class="text-gray-600 font-medium hover:text-cyan-600 transition-colors duration-200 py-2 px-4 rounded-lg hover:bg-gray-50">خدمات طلابية</a>
							<!-- Tools Menu with Submenu -->
							<div x-data="{ toolsSubmenuOpen: false }">
								<button @click="toolsSubmenuOpen = !toolsSubmenuOpen" class="w-full text-right text-cyan-600 font-medium hover:text-cyan-700 transition-colors duration-200 py-2 px-4 rounded-lg bg-cyan-50 flex items-center justify-between">
									<span>الأدوات</span>
									<svg class="w-4 h-4 transition-transform duration-200" :class="{'rotate-180': toolsSubmenuOpen}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
										<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
									</svg>
								</button>
								<div x-show="toolsSubmenuOpen" x-transition class="pr-4 space-y-2 mt-2">
									<a href="ocr" class="block text-gray-600 hover:text-cyan-600 py-2 px-4 rounded-lg hover:bg-cyan-50 text-sm">
										<i class="fas fa-file-text text-cyan-500 ml-2"></i> استخراج النصوص (OCR)
									</a>
									<a href="qr-generator" class="block text-gray-600 hover:text-cyan-600 py-2 px-4 rounded-lg hover:bg-cyan-50 text-sm">
										<i class="fas fa-qrcode text-cyan-500 ml-2"></i> مولد رمز QR
									</a>
									<a href="pdf-tools" class="block text-gray-600 hover:text-cyan-600 py-2 px-4 rounded-lg hover:bg-cyan-50 text-sm">
										<i class="fas fa-file-pdf text-cyan-500 ml-2"></i> أدوات PDF
									</a>
									<div class="block text-gray-400 py-2 px-4 text-sm">
										<i class="fas fa-magic text-gray-300 ml-2"></i> إزالة الخلفية <span class="text-xs">(قريباً)</span>
									</div>
								</div>
							</div>
							<a href="/#about" class="text-gray-600 font-medium hover:text-cyan-600 transition-colors duration-200 py-2 px-4 rounded-lg hover:bg-gray-50">من نحن</a>
							<a href="/#contact" class="text-gray-600 font-medium hover:text-cyan-600 transition-colors duration-200 py-2 px-4 rounded-lg hover:bg-gray-50">تواصل معنا</a>
						</nav>
					</div>
				</div>
			</header>

			<!-- Breadcrumbs -->
			<nav class="breadcrumbs container mx-auto px-4" aria-label="breadcrumb">
				<ol>
					<li><a href="/">الرئيسية</a></li>
					<li><a href="tools">الأدوات</a></li>
					<li>أدوات PDF</li>
				</ol>
			</nav>

			<!-- Hero Section -->
			<section class="py-16 bg-gradient-to-br from-cyan-50 via-blue-50 to-orange-50 relative overflow-hidden">
				<div class="absolute inset-0 opacity-10">
					<div class="absolute top-20 right-20 w-64 h-64 bg-cyan-500 rounded-full mix-blend-multiply filter blur-xl animate-pulse"></div>
					<div class="absolute bottom-20 left-20 w-64 h-64 bg-orange-500 rounded-full mix-blend-multiply filter blur-xl animate-pulse delay-300"></div>
				</div>

				<div class="container mx-auto px-4 relative z-10">
					<div class="text-center animate-fadeInUp">
						<div class="inline-flex items-center gap-2 bg-white/80 backdrop-blur-sm px-4 py-2 rounded-full mb-6 shadow-lg">
							<i class="fas fa-file-pdf text-cyan-500"></i>
							<span class="text-gray-700 font-medium">أداة مجانية</span>
						</div>

						<h1 class="text-3xl lg:text-5xl font-bold text-gray-800 mb-4 leading-tight">
							<span class="text-transparent bg-clip-text bg-gradient-to-r from-cyan-600 to-orange-500">أدوات PDF</span>
						</h1>

						<p class="text-lg text-gray-600 max-w-2xl mx-auto">
							دمج أو تقسيم ملفات PDF بسهولة
						</p>
					</div>
				</div>
			</section>

			<!-- PDF Tools Section -->
			<section class="py-20 bg-white">
				<div class="container mx-auto px-4">
					<div class="bg-white p-8 lg:p-12 rounded-3xl shadow-xl max-w-4xl mx-auto border border-gray-100">
						<!-- PDF Sub-tabs -->
						<div class="flex flex-wrap justify-center gap-3 mb-8" dir="rtl">
							<button class="tab-button active" onclick="switchPdfTool('merge')">
								<i class="fas fa-object-group ml-2"></i> دمج PDF
							</button>
							<button class="tab-button" onclick="switchPdfTool('split')">
								<i class="fas fa-cut ml-2"></i> تقسيم PDF
							</button>
							<button class="tab-button" onclick="switchPdfTool('pdf2img')">
								<i class="fas fa-images ml-2"></i> PDF إلى صور
							</button>
							<button class="tab-button" onclick="switchPdfTool('img2pdf')">
								<i class="fas fa-file-pdf ml-2"></i> صور إلى PDF
							</button>
						</div>

						<!-- PDF Merger -->
						<div id="pdf-merge-tool" class="pdf-subtool">
							<div class="space-y-6">
								<div class="file-drop-area">
									<input type="file" id="pdf-merge-files" accept=".pdf" multiple class="hidden" />
									<label for="pdf-merge-files" class="cursor-pointer">
										<i class="fas fa-file-pdf text-5xl text-cyan-500 mb-4 block"></i>
										<p class="text-gray-700 font-medium text-lg">اختر ملفات PDF للدمج</p>
										<p class="text-gray-500 text-sm mt-2">يمكنك اختيار عدة ملفات</p>
									</label>
									<div id="merge-file-list" class="mt-4 text-gray-700"></div>
								</div>

								<div class="flex justify-center">
									<button onclick="mergePDFs()" id="merge-pdf-btn" class="btn-primary px-8 py-4 disabled:opacity-50" disabled>
										<i class="fas fa-object-group ml-2"></i> دمج الملفات
									</button>
								</div>

								<div id="merge-status" class="text-center text-gray-600 hidden"></div>
							</div>
						</div>

						<!-- PDF Splitter -->
						<div id="pdf-split-tool" class="pdf-subtool" style="display: none;">
							<div class="space-y-6">
								<div class="file-drop-area">
									<input type="file" id="pdf-split-file" accept=".pdf" class="hidden" />
									<label for="pdf-split-file" class="cursor-pointer">
										<i class="fas fa-file-pdf text-5xl text-cyan-500 mb-4 block"></i>
										<p class="text-gray-700 font-medium text-lg">اختر ملف PDF للتقسيم</p>
										<p class="text-gray-500 text-sm mt-2">اختر الصفحات التي تريد تنزيلها</p>
									</label>
									<div id="split-file-name" class="mt-4 text-gray-700 hidden"></div>
								</div>

								<!-- Page Preview Grid -->
								<div id="page-preview-container" class="hidden">
									<div class="flex justify-center gap-4 mb-4">
										<button onclick="selectAllPages()" class="btn-outline-orange px-6 py-2">
											<i class="fas fa-check-square ml-2"></i> تحديد الكل
										</button>
										<button onclick="deselectAllPages()" class="btn-outline-orange px-6 py-2">
											<i class="fas fa-square ml-2"></i> إلغاء تحديد الكل
										</button>
									</div>
									<div id="page-previews" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 max-h-96 overflow-y-auto p-4 border border-gray-200 rounded-lg bg-gray-50"></div>
								</div>

								<div class="flex justify-center gap-4">
									<button onclick="downloadSelectedPages()" id="download-selected-btn" class="btn-primary px-8 py-4 hidden">
										<i class="fas fa-download ml-2"></i> تنزيل المحدد
									</button>
									<button onclick="downloadAllPages()" id="download-all-btn" class="btn-outline-orange px-8 py-4 hidden">
										<i class="fas fa-download ml-2"></i> تنزيل الكل
									</button>
								</div>

								<div id="split-status" class="text-center text-gray-600 hidden"></div>
							</div>
						</div>

						<!-- PDF to Images -->
						<div id="pdf-pdf2img-tool" class="pdf-subtool" style="display: none;">
							<div class="space-y-6">
								<div class="file-drop-area">
									<input type="file" id="pdf2img-file" accept=".pdf" class="hidden" />
									<label for="pdf2img-file" class="cursor-pointer">
										<i class="fas fa-file-pdf text-5xl text-cyan-500 mb-4 block"></i>
										<p class="text-gray-700 font-medium text-lg">اختر ملف PDF لتحويله إلى صور</p>
										<p class="text-gray-500 text-sm mt-2">سيتم تحويل كل صفحة إلى صورة منفصلة</p>
									</label>
									<div id="pdf2img-name" class="mt-4 text-gray-700 hidden"></div>
								</div>
								<div><label class="block text-gray-700 font-medium mb-2">جودة الصور</label><select id="pdf2img-quality" class="w-full px-4 py-3 border border-gray-300 rounded-lg"><option value="1">عالية (1.0)</option><option value="1.5" selected>جيدة جداً (1.5)</option><option value="2">متوسطة (2.0)</option></select></div>
								<div class="flex justify-center"><button onclick="convertPdfToImages()" id="pdf2img-btn" class="btn-primary px-8 py-4" disabled><i class="fas fa-images ml-2"></i>تحويل إلى صور</button></div>
								<div id="pdf2img-status" class="text-center text-gray-600 hidden"></div>
								<div id="pdf2img-result" class="hidden"><div id="pdf2img-previews" class="grid grid-cols-2 md:grid-cols-3 gap-4"></div><div class="flex justify-center mt-6"><button onclick="downloadAllImages()" class="btn-primary"><i class="fas fa-download ml-2"></i>تحميل جميع الصور</button></div></div>
							</div>
						</div>

						<!-- Images to PDF -->
						<div id="pdf-img2pdf-tool" class="pdf-subtool" style="display: none;">
							<div class="space-y-6">
								<div class="file-drop-area">
									<input type="file" id="img2pdf-files" accept="image/*" multiple class="hidden" />
									<label for="img2pdf-files" class="cursor-pointer">
										<i class="fas fa-images text-5xl text-cyan-500 mb-4 block"></i>
										<p class="text-gray-700 font-medium text-lg">اختر الصور لتحويلها إلى PDF</p>
										<p class="text-gray-500 text-sm mt-2">يمكنك اختيار صور متعددة</p>
									</label>
									<div id="img2pdf-list" class="mt-4"></div>
								</div>
								<div class="flex justify-center"><button onclick="convertImagesToPdf()" id="img2pdf-btn" class="btn-primary px-8 py-4" disabled><i class="fas fa-file-pdf ml-2"></i>إنشاء PDF</button></div>
								<div id="img2pdf-status" class="text-center text-gray-600 hidden"></div>
							</div>
						</div>
					</div>
				</div>
			</section>

			<!-- Contact CTA Section -->
			<section class="py-20 bg-gradient-to-br from-cyan-500 via-blue-500 to-orange-500 text-white relative overflow-hidden">
				<div class="absolute inset-0 opacity-10">
					<div class="absolute inset-0" style="background-image: url('data:image/svg+xml,<svg xmlns=&quot;http://www.w3.org/2000/svg&quot; viewBox=&quot;0 0 100 100&quot;><circle cx=&quot;50&quot; cy=&quot;50&quot; r=&quot;2&quot; fill=&quot;white&quot;/></svg>'); background-size: 50px 50px;"></div>
				</div>

				<div class="container mx-auto px-4 text-center relative z-10">
					<div class="animate-fadeInUp">
						<h2 class="text-3xl lg:text-4xl font-bold mb-6">تحتاج إلى مساعدة؟</h2>
						<p class="text-xl mb-12 max-w-3xl mx-auto leading-relaxed">
							نحن هنا لمساعدتك! تواصل معنا إذا كان لديك أي استفسار أو تحتاج إلى دعم.
						</p>
						<div class="flex flex-col sm:flex-row justify-center gap-6">
							<a href="https://wa.me/966540732077" class="bg-white text-cyan-600 hover:bg-gray-100 px-8 py-4 rounded-full font-bold transition duration-300 transform hover:scale-105 shadow-lg">
								<i class="fab fa-whatsapp ml-2 text-xl"></i> تواصل عبر واتساب
							</a>
							<a href="mailto:wforelectronicservices@gmail.com" class="bg-transparent border-2 border-white text-white hover:bg-white hover:text-cyan-600 px-8 py-4 rounded-full font-bold transition duration-300 transform hover:scale-105">
								<i class="fas fa-envelope ml-2"></i> راسلنا عبر البريد
							</a>
						</div>
					</div>
				</div>
			</section>

			<!-- Footer -->
			<footer class="bg-gradient-to-br from-gray-900 to-gray-800 text-white py-16">
				<div class="container mx-auto px-4">
					<div class="grid grid-cols-1 lg:grid-cols-3 gap-12 items-start">
						<!-- Logo and Description -->
						<div class="text-center lg:text-right">
							<div class="flex items-center justify-center lg:justify-start gap-3 mb-4">
								<img src="wD.png" alt="W للخدمات الإلكترونية" class="w-12 h-12 rounded-full shadow-lg" />
								<h3 class="text-2xl lg:text-3xl font-bold">
									<span class="text-cyan-400">W</span>
									<span class="text-orange-400">للخدمات الإلكترونية</span>
								</h3>
							</div>
							<p class="text-gray-300 leading-relaxed max-w-md mx-auto lg:mx-0">حلول ذكية متكاملة وأدوات مجانية بجودة عالية في المملكة العربية السعودية</p>
						</div>

						<!-- Quick Links -->
						<div class="text-center lg:text-right">
							<h4 class="text-xl font-semibold mb-6 text-orange-400">روابط سريعة</h4>
							<div class="grid grid-cols-2 gap-3">
								<a href="/" class="text-gray-300 hover:text-orange-400 transition-colors duration-200 flex items-center gap-2">
									<i class="fas fa-home text-sm"></i>
									الرئيسية
								</a>
								<a href="general-services" class="text-gray-300 hover:text-orange-400 transition-colors duration-200 flex items-center gap-2">
									<i class="fas fa-cogs text-sm"></i>
									خدمات عامة
								</a>
								<a href="design-services" class="text-gray-300 hover:text-orange-400 transition-colors duration-200 flex items-center gap-2">
									<i class="fas fa-paint-brush text-sm"></i>
									خدمات التصميم
								</a>
								<a href="academic-services" class="text-gray-300 hover:text-orange-400 transition-colors duration-200 flex items-center gap-2">
									<i class="fas fa-graduation-cap text-sm"></i>
									خدمات طلابية
								</a>
								<a href="tools" class="text-gray-300 hover:text-orange-400 transition-colors duration-200 flex items-center gap-2">
									<i class="fas fa-tools text-sm"></i>
									الأدوات
								</a>
							</div>
						</div>

						<!-- Contact Info -->
						<div class="text-center lg:text-left">
							<h4 class="text-xl font-semibold mb-6 text-cyan-400">تواصل معنا</h4>
							<div class="space-y-4 mb-6">
								<a href="https://wa.me/966540732077" class="flex items-center justify-center lg:justify-start gap-3 text-gray-300 hover:text-green-400 transition-colors">
									<i class="fab fa-whatsapp text-lg"></i>
									<span dir="ltr">+966 54 073 2077</span>
								</a>
								<a href="mailto:wforelectronicservices@gmail.com" class="flex items-center justify-center lg:justify-start gap-3 text-gray-300 hover:text-blue-400 transition-colors">
									<i class="fas fa-envelope text-lg"></i>
									<span class="text-sm">wforelectronicservices@gmail.com</span>
								</a>
							</div>

							<div class="flex justify-center lg:justify-start gap-4">
								<a href="https://wa.me/966540732077" class="bg-transparent border-2 border-orange-500 text-orange-400 hover:bg-orange-500 hover:text-white w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110" aria-label="واتساب">
									<i class="fab fa-whatsapp"></i>
								</a>
								<a href="mailto:wforelectronicservices@gmail.com" class="bg-transparent border-2 border-orange-500 text-orange-400 hover:bg-orange-500 hover:text-white w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110" aria-label="البريد الإلكتروني">
									<i class="fas fa-envelope"></i>
								</a>
								<a href="https://instagram.com/wfor_es" class="bg-transparent border-2 border-orange-500 text-orange-400 hover:bg-orange-500 hover:text-white w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110" aria-label="انستغرام">
									<i class="fab fa-instagram"></i>
								</a>
								<a href="https://tiktok.com/@wforelectronicservices" class="bg-transparent border-2 border-orange-500 text-orange-400 hover:bg-orange-500 hover:text-white w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110" aria-label="تيك توك">
									<i class="fab fa-tiktok"></i>
								</a>
								<a href="https://twitter.com/WFor_ES" class="bg-transparent border-2 border-orange-500 text-orange-400 hover:bg-orange-500 hover:text-white w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110" aria-label="تويتر">
									<i class="fab fa-twitter"></i>
								</a>
							</div>
						</div>
					</div>

					<div class="border-t border-gray-700 mt-12 pt-8 text-center">
						<p class="text-gray-400">&copy; جميع الحقوق محفوظة لخدمات W الإلكترونية 2025</p>
					</div>
				</div>
			</footer>

			<!-- Floating WhatsApp Button -->
			<a href="https://wa.me/966540732077" class="floating-whatsapp fixed bottom-24 right-6 w-16 h-16 rounded-full flex items-center justify-center shadow-2xl z-50" target="_blank" aria-label="تواصل معنا عبر واتساب">
				<i class="fab fa-whatsapp text-2xl"></i>
			</a>

			<!-- Scroll to top button -->
			<button id="scrollToTop" class="fixed bottom-6 right-6 w-14 h-14 rounded-full flex items-center justify-center shadow-2xl z-50 transition-all duration-300 opacity-0 invisible" aria-label="العودة إلى أعلى الصفحة">
				<i class="fas fa-arrow-up text-xl"></i>
			</button>
		</div>

		<!-- JavaScript -->
		<script>
			// PAGE INITIALIZATION
			document.addEventListener('DOMContentLoaded', function() {
				const loadingScreen = document.getElementById('loadingScreen');
				const mainContent = document.getElementById('mainContent');

				// Minimum loading time
				const minLoadTime = 2000;
				const startTime = Date.now();

				// Wait for all resources to load
				window.addEventListener('load', function() {
					const loadTime = Date.now() - startTime;
					const remainingTime = Math.max(0, minLoadTime - loadTime);

					setTimeout(function() {
						loadingScreen.classList.add('hidden');
						mainContent.classList.add('loaded');

						// Initialize scroll animations after loading
						initScrollAnimations();
					}, remainingTime);
				});

				// Initialize scroll to top functionality
				initScrollToTop();
			});

			// Scroll to top button functionality
			function initScrollToTop() {
				const scrollToTopBtn = document.getElementById('scrollToTop');

				// Throttle scroll events for better performance
				let lastScrollTime = 0;
				window.addEventListener('scroll', function() {
					const now = Date.now();
					if (now - lastScrollTime > 100) {
						lastScrollTime = now;
						if (window.pageYOffset > 300) {
							scrollToTopBtn.classList.remove('opacity-0', 'invisible');
							scrollToTopBtn.classList.add('opacity-100', 'visible');
						} else {
							scrollToTopBtn.classList.remove('opacity-100', 'visible');
							scrollToTopBtn.classList.add('opacity-0', 'invisible');
						}
					}
				}, {passive: true});

				scrollToTopBtn.addEventListener('click', function() {
					window.scrollTo({
						top: 0,
						behavior: 'smooth'
					});
				});
			}

			// Initialize scroll animations
			function initScrollAnimations() {
				const observerOptions = {
					threshold: 0.1,
					rootMargin: '0px 0px -50px 0px'
				};

				const observer = new IntersectionObserver(function(entries) {
					entries.forEach(entry => {
						if (entry.isIntersecting) {
							entry.target.style.opacity = '1';
							entry.target.style.transform = 'none';
						}
					});
				}, observerOptions);

				const animatedElements = document.querySelectorAll('.animate-fadeInUp');
				animatedElements.forEach(el => {
					observer.observe(el);
				});
			}

			// Smooth scrolling for anchor links
			document.querySelectorAll('a[href^="#"]').forEach(anchor => {
				anchor.addEventListener('click', function (e) {
					e.preventDefault();
					const target = document.querySelector(this.getAttribute('href'));
					if (target) {
						target.scrollIntoView({
							behavior: 'smooth',
							block: 'start'
						});
					}
				});
			});

			// PDF TOOL SWITCHING
			function switchPdfTool(toolName) {
				// Hide all PDF subtools
				document.querySelectorAll('.pdf-subtool').forEach(tool => {
					tool.style.display = 'none';
				});

				// Show selected PDF subtool
				if (toolName === 'merge') {
					document.getElementById('pdf-merge-tool').style.display = 'block';
				} else {
					document.getElementById('pdf-split-tool').style.display = 'block';
				}

				// Update tab buttons in PDF section
				event.target.parentElement.querySelectorAll('.tab-button').forEach(btn => {
					btn.classList.remove('active');
				});
				event.target.classList.add('active');
			}

			// PDF MERGER
			document.getElementById('pdf-merge-files').addEventListener('change', function() {
				const files = this.files;
				const fileList = document.getElementById('merge-file-list');
				const mergeBtn = document.getElementById('merge-pdf-btn');

				if (files.length > 0) {
					let listHTML = '<div class="text-sm space-y-2">';
					for (let i = 0; i < files.length; i++) {
						listHTML += '<div class="flex items-center gap-2"><i class="fas fa-file-pdf text-red-500"></i> ' + files[i].name + '</div>';
					}
					listHTML += '</div>';
					fileList.innerHTML = listHTML;
					mergeBtn.disabled = files.length < 2;
				} else {
					fileList.innerHTML = '';
					mergeBtn.disabled = true;
				}
			});

			async function mergePDFs() {
				const files = document.getElementById('pdf-merge-files').files;
				const statusDiv = document.getElementById('merge-status');

				if (files.length < 2) {
					alert('الرجاء اختيار ملفين على الأقل للدمج');
					return;
				}

				statusDiv.innerHTML = '<div class="inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-cyan-600 mx-auto"></div><p class="mt-2">جاري دمج الملفات...</p>';
				statusDiv.classList.remove('hidden');

				try {
					const { PDFDocument } = PDFLib;
					const mergedPdf = await PDFDocument.create();

					// Process each PDF file
					for (let i = 0; i < files.length; i++) {
						const arrayBuffer = await files[i].arrayBuffer();
						const pdf = await PDFDocument.load(arrayBuffer);
						const copiedPages = await mergedPdf.copyPages(pdf, pdf.getPageIndices());
						copiedPages.forEach((page) => mergedPdf.addPage(page));
					}

					// Save merged PDF
					const mergedPdfBytes = await mergedPdf.save();
					const blob = new Blob([mergedPdfBytes], { type: 'application/pdf' });
					const url = URL.createObjectURL(blob);

					// Download
					const a = document.createElement('a');
					a.href = url;
					a.download = 'merged.pdf';
					document.body.appendChild(a);
					a.click();
					document.body.removeChild(a);
					URL.revokeObjectURL(url);

					statusDiv.innerHTML = '<i class="fas fa-check-circle text-green-500 text-3xl"></i><p class="mt-2 text-green-600 font-bold">تم الدمج بنجاح!</p>';
				} catch (error) {
					console.error('PDF Merge Error:', error);
					statusDiv.innerHTML = '<i class="fas fa-exclamation-circle text-red-500 text-3xl"></i><p class="mt-2 text-red-600">حدث خطأ أثناء دمج الملفات</p>';
				}
			}

			// Global variable to store PDF document and pages
			let loadedPdfDoc = null;
			let pdfPageData = [];

			// PDF Splitter - File selection
			document.getElementById('pdf-split-file').addEventListener('change', async function() {
				const file = this.files[0];
				const fileNameDiv = document.getElementById('split-file-name');
				const statusDiv = document.getElementById('split-status');
				const previewContainer = document.getElementById('page-preview-container');

				if (file) {
					fileNameDiv.innerHTML = '<div class="flex items-center gap-2 justify-center"><i class="fas fa-file-pdf text-red-500"></i> ' + file.name + '</div>';
					fileNameDiv.classList.remove('hidden');

					// Load and preview PDF
					statusDiv.innerHTML = '<div class="inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-cyan-600 mx-auto"></div><p class="mt-2">جاري تحميل الصفحات...</p>';
					statusDiv.classList.remove('hidden');

					try {
						const { PDFDocument } = PDFLib;
						const arrayBuffer = await file.arrayBuffer();
						loadedPdfDoc = await PDFDocument.load(arrayBuffer);

						await generatePagePreviews(file);

						statusDiv.classList.add('hidden');
						previewContainer.classList.remove('hidden');
						document.getElementById('download-selected-btn').classList.remove('hidden');
						document.getElementById('download-all-btn').classList.remove('hidden');
					} catch (error) {
						console.error('PDF Load Error:', error);
						statusDiv.innerHTML = '<i class="fas fa-exclamation-circle text-red-500 text-3xl"></i><p class="mt-2 text-red-600">حدث خطأ أثناء تحميل الملف</p>';
					}
				} else {
					fileNameDiv.classList.add('hidden');
					previewContainer.classList.add('hidden');
					document.getElementById('download-selected-btn').classList.add('hidden');
					document.getElementById('download-all-btn').classList.add('hidden');
				}
			});

			// Generate page previews using canvas
			async function generatePagePreviews(file) {
				const previewsDiv = document.getElementById('page-previews');
				previewsDiv.innerHTML = '';
				pdfPageData = [];

				const { getDocument } = pdfjsLib;
				const arrayBuffer = await file.arrayBuffer();
				const pdf = await getDocument({ data: arrayBuffer }).promise;
				const numberOfPages = pdf.numPages;

				for (let i = 1; i <= numberOfPages; i++) {
					const page = await pdf.getPage(i);
					const viewport = page.getViewport({ scale: 0.5 });

					const canvas = document.createElement('canvas');
					const context = canvas.getContext('2d');
					canvas.width = viewport.width;
					canvas.height = viewport.height;

					await page.render({ canvasContext: context, viewport: viewport }).promise;

					// Create preview card
					const pageCard = document.createElement('div');
					pageCard.className = 'page-preview-card relative border-2 border-gray-200 rounded-lg p-2 cursor-pointer hover:border-cyan-500 transition-all';
					pageCard.innerHTML = '<input type="checkbox" id="page-' + i + '" class="page-checkbox absolute top-2 right-2 w-5 h-5 cursor-pointer z-10" checked /><label for="page-' + i + '" class="cursor-pointer block"><img src="' + canvas.toDataURL() + '" class="w-full rounded shadow-sm" /><p class="text-center text-sm font-medium text-gray-700 mt-2">صفحة ' + i + '</p></label>';

					previewsDiv.appendChild(pageCard);
					pdfPageData.push({ pageNum: i, canvas: canvas });
				}
			}

			// Select all pages
			function selectAllPages() {
				document.querySelectorAll('.page-checkbox').forEach(checkbox => {
					checkbox.checked = true;
				});
			}

			// Deselect all pages
			function deselectAllPages() {
				document.querySelectorAll('.page-checkbox').forEach(checkbox => {
					checkbox.checked = false;
				});
			}

			// Download selected pages
			async function downloadSelectedPages() {
				const selectedPages = [];
				document.querySelectorAll('.page-checkbox:checked').forEach(checkbox => {
					const pageNum = parseInt(checkbox.id.replace('page-', ''));
					selectedPages.push(pageNum - 1); // Convert to 0-indexed
				});

				if (selectedPages.length === 0) {
					alert('الرجاء اختيار صفحة واحدة على الأقل');
					return;
				}

				await downloadPages(selectedPages);
			}

			// Download all pages
			async function downloadAllPages() {
				const allPages = [];
				for (let i = 0; i < loadedPdfDoc.getPages().length; i++) {
					allPages.push(i);
				}
				await downloadPages(allPages);
			}

			// Download specified pages
			async function downloadPages(pageIndices) {
				const statusDiv = document.getElementById('split-status');
				statusDiv.innerHTML = '<div class="inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-cyan-600 mx-auto"></div><p class="mt-2">جاري تنزيل الصفحات...</p>';
				statusDiv.classList.remove('hidden');

				try {
					const { PDFDocument } = PDFLib;

					for (const pageIndex of pageIndices) {
						const newPdf = await PDFDocument.create();
						const [copiedPage] = await newPdf.copyPages(loadedPdfDoc, [pageIndex]);
						newPdf.addPage(copiedPage);

						const pdfBytes = await newPdf.save();
						const blob = new Blob([pdfBytes], { type: 'application/pdf' });
						const url = URL.createObjectURL(blob);

						const a = document.createElement('a');
						a.href = url;
						a.download = 'page_' + (pageIndex + 1) + '.pdf';
						document.body.appendChild(a);
						a.click();
						document.body.removeChild(a);
						URL.revokeObjectURL(url);

						await new Promise(resolve => setTimeout(resolve, 100));
					}

					statusDiv.innerHTML = '<i class="fas fa-check-circle text-green-500 text-3xl"></i><p class="mt-2 text-green-600 font-bold">تم تنزيل ' + pageIndices.length + ' صفحة بنجاح!</p>';
				} catch (error) {
					console.error('PDF Download Error:', error);
					statusDiv.innerHTML = '<i class="fas fa-exclamation-circle text-red-500 text-3xl"></i><p class="mt-2 text-red-600">حدث خطأ أثناء التنزيل</p>';
				}
			}

			// PDF to Images file handler
			document.getElementById('pdf2img-file').addEventListener('change', function() {
				const file = this.files[0];
				const btn = document.getElementById('pdf2img-btn');
				if (file) {
					document.getElementById('pdf2img-name').innerHTML = '<i class="fas fa-file-pdf text-red-500"></i> ' + file.name;
					document.getElementById('pdf2img-name').classList.remove('hidden');
					btn.disabled = false;
				} else {
					btn.disabled = true;
				}
			});

			// Convert PDF to Images
			async function convertPdfToImages() {
				const file = document.getElementById('pdf2img-file').files[0];
				const scale = parseFloat(document.getElementById('pdf2img-quality').value);
				const statusDiv = document.getElementById('pdf2img-status');

				statusDiv.innerHTML = '<div class="inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-cyan-600 mx-auto"></div><p class="mt-2">جاري تحويل PDF إلى صور...</p>';
				statusDiv.classList.remove('hidden');

				try {
					const arrayBuffer = await file.arrayBuffer();
					const pdf = await pdfjsLib.getDocument({ data: arrayBuffer }).promise;
					const previews = document.getElementById('pdf2img-previews');
					previews.innerHTML = '';
					window.pdfImages = [];

					for (let i = 1; i <= pdf.numPages; i++) {
						const page = await pdf.getPage(i);
						const viewport = page.getViewport({ scale });
						const canvas = document.createElement('canvas');
						const context = canvas.getContext('2d');
						canvas.width = viewport.width;
						canvas.height = viewport.height;

						await page.render({ canvasContext: context, viewport }).promise;

						const imgData = canvas.toDataURL('image/png');
						window.pdfImages.push({ data: imgData, num: i });

						previews.innerHTML += `<div class="border rounded-lg p-3"><img src="${imgData}" class="w-full rounded shadow-sm mb-2" /><p class="text-sm text-center text-gray-600">صفحة ${i}</p><button onclick="downloadSingleImage(${i-1})" class="btn-primary w-full mt-2 text-sm py-2"><i class="fas fa-download ml-1"></i>تحميل</button></div>`;
					}

					statusDiv.classList.add('hidden');
					document.getElementById('pdf2img-result').classList.remove('hidden');
				} catch (error) {
					console.error(error);
					statusDiv.innerHTML = '<i class="fas fa-exclamation-circle text-red-500 text-3xl"></i><p class="mt-2 text-red-600">حدث خطأ أثناء التحويل</p>';
				}
			}

			function downloadSingleImage(index) {
				const img = window.pdfImages[index];
				const a = document.createElement('a');
				a.href = img.data;
				a.download = `page_${img.num}.png`;
				a.click();
			}

			function downloadAllImages() {
				window.pdfImages.forEach(img => {
					setTimeout(() => {
						const a = document.createElement('a');
						a.href = img.data;
						a.download = `page_${img.num}.png`;
						a.click();
					}, img.num * 200);
				});
			}

			// Images to PDF file handler
			document.getElementById('img2pdf-files').addEventListener('change', function() {
				const files = this.files;
				const list = document.getElementById('img2pdf-list');
				const btn = document.getElementById('img2pdf-btn');

				if (files.length > 0) {
					let html = '<div class="grid grid-cols-2 md:grid-cols-3 gap-3 mt-4">';
					for (let file of files) {
						const url = URL.createObjectURL(file);
						html += `<div class="border rounded p-2"><img src="${url}" class="w-full h-32 object-cover rounded" /><p class="text-xs text-center mt-1 truncate">${file.name}</p></div>`;
					}
					html += '</div><p class="text-center mt-3 text-gray-600">عدد الصور: ${files.length}</p>';
					list.innerHTML = html;
					btn.disabled = false;
				} else {
					list.innerHTML = '';
					btn.disabled = true;
				}
			});

			// Convert Images to PDF
			async function convertImagesToPdf() {
				const files = document.getElementById('img2pdf-files').files;
				const statusDiv = document.getElementById('img2pdf-status');

				statusDiv.innerHTML = '<div class="inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-cyan-600 mx-auto"></div><p class="mt-2">جاري إنشاء PDF...</p>';
				statusDiv.classList.remove('hidden');

				try {
					const { PDFDocument } = PDFLib;
					const pdfDoc = await PDFDocument.create();

					for (let file of files) {
						const arrayBuffer = await file.arrayBuffer();
						let img;

						if (file.type === 'image/png') {
							img = await pdfDoc.embedPng(arrayBuffer);
						} else if (file.type === 'image/jpeg' || file.type === 'image/jpg') {
							img = await pdfDoc.embedJpg(arrayBuffer);
						} else {
							continue;
						}

						const page = pdfDoc.addPage([img.width, img.height]);
						page.drawImage(img, { x: 0, y: 0, width: img.width, height: img.height });
					}

					const pdfBytes = await pdfDoc.save();
					const blob = new Blob([pdfBytes], { type: 'application/pdf' });
					const url = URL.createObjectURL(blob);

					const a = document.createElement('a');
					a.href = url;
					a.download = 'images-combined.pdf';
					a.click();
					URL.revokeObjectURL(url);

					statusDiv.innerHTML = '<i class="fas fa-check-circle text-green-500 text-3xl"></i><p class="mt-2 text-green-600 font-bold">تم إنشاء PDF بنجاح!</p>';
				} catch (error) {
					console.error(error);
					statusDiv.innerHTML = '<i class="fas fa-exclamation-circle text-red-500 text-3xl"></i><p class="mt-2 text-red-600">حدث خطأ أثناء الإنشاء</p>';
				}
			}

			// Preload critical images
			const criticalImages = ['wD.png'];
			criticalImages.forEach(src => {
				const img = new Image();
				img.src = src;
			});
		</script>
	</body>
</html>
